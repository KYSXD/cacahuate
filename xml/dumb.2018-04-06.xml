<process-spec>
  <process-info>
    <author>categulario</author>
    <date>2018-04-06</date>
    <name>Proceso simple</name>
    <description>Te asigna una tarea a ti mismo</description>
    <public>true</public>
    <start-node>requester</start-node>
  </process-info>
  <process>
    <node id="requester" class="decision">
      <node-info>
        <name>Primer paso ;)</name>
        <description>Te asignas chamba</description>
      </node-info>
      <form-array>
        <form id="formulario">
          <input type="select" label="¿Asignarme la chamba?" name="continue" required="required">
            <option value="yes">Simona la changa</option>
            <option value="no">Nel pastel</option>
          </input>
        </form>
      </form-array>
    </node>

    <connector from="requester" to="node2">
      <condition>form#formulario[continue] == "yes"</condition>
    </connector>

    <connector from="requester" to="end">
      <condition>form#formulario[continue] == "no"</condition>
    </connector>


    <node id="node2" class="decision">
      <node-info>
        <name>Segundo paso :o</name>
        <description>Te asignas más chamba</description>
      </node-info>
      <form-array>
        <form id="formulario2">
          <input type="select" label="¿Asignarme más chamba?" name="continue" required="required">
            <option value="yes">Simona la changa</option>
            <option value="no">Nel pastel</option>
          </input>
        </form>
      </form-array>
    </node>

    <connector from="node2" to="node3">
      <condition>form#formulario2[continue] == "yes"</condition>
    </connector>

    <connector from="node2" to="end">
      <condition>form#formulario2[continue] == "no"</condition>
    </connector>


    <node id="node3" class="simple">
      <node-info>
        <name>Tercer paso :c</name>
        <description></description>
      </node-info>
      <auth-filter backend="self">
        <param name="identifier" type="ref">user#requester</param>
      </auth-filter>
      <form-array>
        <form id="chamba">
          <input type="text" label="¿Cuánto es 1+1?" name="ans" required="required" />
        </form>
      </form-array>
    </node>

    <connector from="node3" to="end" />

    <node id="end" class="end" />
  </process>
</process-spec>
